---
title: 插件开发
---

## Step 0.为什么使用插件对 OJ 进行修改而不是直接修改源代码？

如果您参与过其他工程项目的开发，经常会遇到以下的痛点：

- 若修改前端源代码，需要重新编译打包前端，编译通常消耗大量的内存与时间，且编译完成后需要重启服务，用户侧资源缓存也会全部失效；
- 修改代码后，尝试更新系统时，自己的修改被新版本覆盖，需要手动合并（或是直接丢失了更改），极大幅度增加维护成本；
- 第三方社区出现的大量修改分支无法直接按需求进行组合/拼装，或是功能间存在冲突；

基于以上痛点，Hydro 开创性的使用了插件系统，提供了一套完整的开发 API 供开发者使用，开发者基于提供的较稳定的 API 进行功能的编写，而无需过多关心内部实现，将功能拆分成多个最小的单元，允许用户根据需要进行自由组合，并在多个版本间达到一致性，同时提供热重载功能，提升开发效率。

本节文档将以编写剪贴板插件为例进行插件开发的说明。在阅读本节之前，请确保您有一定的 TypeScript 语言基础。

**请注意，在每次修改完插件的代码后，你需要重启 hydrooj 模块来应用修改。**  
另外，由于 Hydro v5.0.0 引入了一些破坏性更新，如果您的插件同时有 v4 和 v5 用户，请分成两个分支进行开发。
